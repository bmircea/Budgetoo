@page
@model IndexModel
@{
    ViewData["Title"] = "Dashboard";
}
@using Budgetoo.Areas.Identity.Data;
@using Budgetoo.Models;
@inject SignInManager<BudgetooUser> SignInManager

@if (SignInManager.IsSignedIn(User))
{
<body style="background-color:#dfeff8">
    <ul class="nav nav-tabs justify-content-center" id="dashTabs" role="tablist">
        <li class="nav-item">
            <button class="nav-link active" id="content1-tab" data-bs-toggle="tab" data-bs-target="#content1" type="button" href="#Tab1">Tab 1</button>
        </li>
        <li class="nav-item">
            <button class="nav-link" id="content2-tab" data-bs-toggle="tab" data-bs-target="#content2" type="button" href="#Tab2">Tab 2</button>
        </li>
    </ul>

    <div class="tab-content mt-2">
        <div class="tab-pane fade show active" id="content1" role="tabpanel">
            <partial name="_Tab1"/>
        </div>
        <div class="tab-pane fade" id="content2" role="tabpanel">
            <partial name="_Tab2" />
        </div>
    </div>
    
    <div class="container">
        <div class="modal fade" id="tipModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Tip of the day</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                            @{
                                <p>Tip</p>
                            }
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
}
else
{
    <body class="justify-content-center" style="background-color:#dfeff8">

        <p align="center">
            <button type="button" class="btn btn-outline-dark" data-bs-toggle="button" style="border:none;"><h1>JOIN US NOW!</h1></button>
        </p>

        <div class="row justify-content-center">
            <div class="col-md-10">
                <div id="carouselOptions" class="carousel slide">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/images/Envelope.png" class="d-block w-100" alt="envelope">
                            <h2 class="text-center">Based on the <a asp-page="/EnvelopesMethod">envelope budgeting method</a> – a system that works!</h2>
                        </div>
                        <div class="carousel-item">
                            <img src="~/images/Pig-bank.png" class="d-block w-100" alt="pig bank">
                            <h2 class="text-center">Save for big expenses! Plan ahead and be prepared. No more surprises!</h2>
                        </div>
                        <div class="carousel-item">
                            <img src="~/images/Debt.png" class="d-block w-100" alt="debt">
                            <h2 class="text-center">Pay off debt while still setting aside money for other things.</h2>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselOptions" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselOptions" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>

    </body>
}

@section Scripts{
    <script>
        var tipModal = new bootstrap.Modal(document.getElementById('tipModal'));
        $(document).ready(function () {
            tipModal.show();
        })
    </script>
}